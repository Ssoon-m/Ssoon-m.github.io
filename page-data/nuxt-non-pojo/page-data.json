{"componentChunkName":"component---src-templates-post-template-tsx","path":"/nuxt-non-pojo/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>nuxt ssr훅에서 인스턴스 생성 후 해당 메서드에 접근을 할 때 왜 문제가 생길까??</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Item</span> <span class=\"token punctuation\">{</span>\n  id\n  title\n  subTitle\n  writer\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> subTitle<span class=\"token punctuation\">,</span> writer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subTitle <span class=\"token operator\">=</span> subTitle\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>writer <span class=\"token operator\">=</span> writer\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hello~~~~'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 클래스를 <code class=\"language-text\">fetch</code>나 <code class=\"language-text\">asyncData</code>훅에서 생성을 하게 되면 ssr훅의 컨텍스트가 종료가 될때 ssr에서 생성한 인스턴스의 전체 구성 요소 상태가 문자열화된다.</p>\n<h2>⭐️ 생성한 인스턴스의 메서드 접근 가능 할 때</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">item</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>item <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Item</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'subtitle'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'writer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>❗️생성한 인스턴스의 메서드 접근이 불가능 할 때</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>fetch훅이 끝난 후 mounted에서 메서드에 접근을 하게 되면 메서드에 접근을 못 하게 된다.</p>\n<h2>참고자료</h2>\n<p>🔗 <a href=\"https://github.com/nuxt/nuxt.js/issues/10277\" target=\"_blank\" rel=\"nofollow\">https://github.com/nuxt/nuxt.js/issues/10277</a></p>","frontmatter":{"title":"[Nuxt] ssr 훅 에서 인스턴스 생성시 문제점(WARN Cannot stringify arbitrary non-POJOs)","summary":"WARN Cannot stringify arbitrary non-POJOs","date":"2022.06.06.","categories":["nuxt"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAY0lEQVQI123MsQ7CMAyEYTd2rDZxcLtTsTIDr8D7P9KPlIWlwyfd3XDyet45U3CvqBlaCrVWzGyam+q/q+LuLIsgcuH7fvA5lSMHEYNtXcm80VpjjKBHsM08pt47ue+UUi4Pf6xBK7gD3Tz1AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/576c609e8e6c57b5d5883298daff78b3/146c6/non-pojo.png","srcSet":"/static/576c609e8e6c57b5d5883298daff78b3/e6ec1/non-pojo.png 93w,\n/static/576c609e8e6c57b5d5883298daff78b3/e891d/non-pojo.png 186w,\n/static/576c609e8e6c57b5d5883298daff78b3/146c6/non-pojo.png 372w","sizes":"(min-width: 372px) 372px, 100vw"},"sources":[{"srcSet":"/static/576c609e8e6c57b5d5883298daff78b3/50590/non-pojo.webp 93w,\n/static/576c609e8e6c57b5d5883298daff78b3/b02c7/non-pojo.webp 186w,\n/static/576c609e8e6c57b5d5883298daff78b3/99036/non-pojo.webp 372w","type":"image/webp","sizes":"(min-width: 372px) 372px, 100vw"}]},"width":372,"height":39}},"publicURL":"/static/576c609e8e6c57b5d5883298daff78b3/non-pojo.png"}}}}]}},"pageContext":{"slug":"/nuxt-non-pojo/"}},"staticQueryHashes":[]}